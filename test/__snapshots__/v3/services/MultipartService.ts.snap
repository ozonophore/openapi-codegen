/* istanbul ignore file */
/* tslint:disable */
/* eslint-disable */

import type { IModelWithString } from '../models/ModelWithString';
import type { RequestExecutor, RequestConfig } from '../core/request-executor';

const multipartResponse = (): RequestConfig => ({
    method: 'GET',
    path: `/api/v{api-version}/multipart`,
});

const multipartRequest = (formData?: { content?: string; data?: IModelWithString | null }): RequestConfig => ({
    method: 'POST',
    path: `/api/v{api-version}/multipart`,
    body: formData,
    mediaType: 'multipart/form-data',
});

export type TMultipartOptions = {
    multipartResponse: () => RequestConfig;
    multipartRequest: (formData?: { content?: string; data?: IModelWithString | null }) => RequestConfig;
};

export const MultipartOptions: TMultipartOptions = {
    multipartResponse: multipartResponse,
    multipartRequest: multipartRequest,
};

export class MultipartService<TOptions = unknown> {
    constructor(private readonly executor: RequestExecutor<TOptions>) {}

    /**
     * @returns any OK
     * @throws ApiError
     */
    public multipartResponse(options?: TOptions): Promise<{
        file?: string;
        metadata?: {
            foo?: string;
            bar?: string;
        };
    }> {
        return this.executor.request<{
            file?: string;
            metadata?: {
                foo?: string;
                bar?: string;
            };
        }>(MultipartOptions.multipartResponse(), options);
    }
    /**
     * @param formData
     * @throws ApiError
     */
    public multipartRequest(
        formData?: {
            content?: string;
            data?: IModelWithString | null;
        },
        options?: TOptions,
    ): Promise<void> {
        return this.executor.request<void>(MultipartOptions.multipartRequest(formData), options);
    }
}
