/* istanbul ignore file */
/* tslint:disable */
/* eslint-disable */

import { IIngredientSchema } from './IngredientSchema';

import Ajv, { ErrorObject } from 'ajv';
import addFormats from 'ajv-formats';

const ajv = new Ajv({ allErrors: true });
addFormats(ajv);

export const IAdvancementRequestSchema = {
    type: 'object',
    properties: {
        currentSequenceId: {
            type: 'string',
            format: 'uuid',
        },
        ingredients: {
            type: 'array',
            items: {
                type: 'object',
            },
        },
    },
    required: ['currentSequenceId', 'ingredients'],
    additionalProperties: false,
};

export type IAdvancementRequest = any; // JSON Schema doesn't provide type inference

export function validateIAdvancementRequest(
    data: unknown,
): { valid: true; data: IAdvancementRequest } | { valid: false; errors: ErrorObject[] } {
    const validate = ajv.compile(IAdvancementRequestSchema);
    const valid = validate(data);
    if (valid) {
        return { valid: true, data: data as IAdvancementRequest };
    }
    return { valid: false, errors: validate.errors || [] };
}

export function validateIAdvancementRequestSync(data: unknown): IAdvancementRequest {
    const validate = ajv.compile(IAdvancementRequestSchema);
    const valid = validate(data);
    if (!valid) {
        throw new Error(ajv.errorsText(validate.errors));
    }
    return data as IAdvancementRequest;
}
